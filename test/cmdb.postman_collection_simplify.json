[
  {
    "name": "query warehouse",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/wareHouses"
  },
  {
    "name": "delete incident flow 3",
    "method": "DELETE",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows/{{incident_flow_3_id}}"
  },
  {
    "name": "query physical server by uuid",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems/{{physical_server_id}}"
  },
  {
    "name": "query Cabinets",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cabinets"
  },
  {
    "name": "add ITService group",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITServiceGroup",
        "fields": {
          "name": "test4",
          "description": "test"
        }
      }
    }
  },
  {
    "name": "query it service groups by keyword",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group?keyword=Messaging"
  },
  {
    "name": "delete already referenced email service fail",
    "method": "DELETE",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service/{{service_email_id}}"
  },
  {
    "name": "query ConfigurationItems by subcategory",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems?subcategory=PhysicalServer,VirtualServer"
  },
  {
    "name": "query cfgitem by uuid ",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems/{{router_id}}"
  },
  {
    "name": "query server room",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/serverRooms"
  },
  {
    "name": "query ConfigurationItem Category by filter",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems/categories/Asset"
  },
  {
    "name": "query ConfigurationItem Category",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems/categories/all"
  },
  {
    "name": "add incident flow 2 reference incident flow 1",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "IncidentFlow",
        "fields": {
          "it_service": [
            "{{service_dns_id}}"
          ],
          "committer": "{{auth_user_id}}",
          "executor": "{{auth_user_id}}",
          "reference_kb": "{{article_uuids}}",
          "reference_process_flow": [
            "{{incident_flow_1_id}}"
          ],
          "status": "open",
          "description": "{{process_flow_desc}}",
          "note": "note",
          "attachment": "attachment",
          "title": "title"
        }
      }
    }
  },
  {
    "name": "query ConfigurationItems",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems"
  },
  {
    "name": "query process flow by keyword full text match",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows?keyword={{matched_word}}"
  },
  {
    "name": "add ITService Email",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "name": "email",
          "description": "email",
          "group": "Messaging"
        }
      }
    }
  },
  {
    "name": "delete itservice",
    "method": "DELETE",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service/{{service_test_id}}"
  },
  {
    "name": "query all it service groups",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group"
  },
  {
    "name": "add warehouse",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/wareHouses",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "WareHouse",
        "fields": {
          "name": "warehouse",
          "description": "warehouse"
        }
      }
    }
  },
  {
    "name": "add incident flow 1",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "IncidentFlow",
        "fields": {
          "it_service": [
            "{{service_email_id}}",
            "{{service_pop3_id}}"
          ],
          "committer": "{{auth_user_id}}",
          "executor": "{{auth_user_id}}",
          "reference_kb": "{{article_uuids}}",
          "status": "open",
          "description": "{{process_flow_desc}}",
          "note": "note",
          "attachment": "attachment",
          "title": "title"
        }
      }
    }
  },
  {
    "name": "get articles from kb api",
    "method": "GET",
    "url": "http://{{kb_api_host}}:{{kb_api_port}}/KB/API/v1/articles?token={{token}}"
  },
  {
    "name": "patch incident flow 1 status to solved",
    "method": "PATCH",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows/{{incident_flow_1_id}}",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "IncidentFlow",
        "fields": {
          "status": "solved",
          "user": "a"
        }
      }
    }
  },
  {
    "name": "search it service by group id",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service?search={{group_infrastructure_id}}"
  },
  {
    "name": "add ITService",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "name": "test",
          "description": "test",
          "group": "Messaging"
        }
      }
    }
  },
  {
    "name": "add firewall",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Firewall",
        "fields": {
          "name": "firewall",
          "it_service": [
            "{{service_dns_id}}"
          ],
          "responsibility": "{{auth_user_id}}",
          "sn": "123456",
          "model": "b10",
          "product_date": "2016-10-11",
          "warranty_expiration_date": "2016-11-11",
          "asset_location": {
            "status": "on_shelf",
            "shelf": "{{shelf_id}}",
            "label": "label",
            "other": "other"
          }
        }
      }
    }
  },
  {
    "name": "patch router for patial attributes",
    "method": "PATCH",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems/{{router_id}}",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Router",
        "fields": {
          "it_service": [
            "{{service_pop3_id}}",
            "{{service_dns_id}}"
          ],
          "sn": "12345678"
        }
      }
    }
  },
  {
    "name": "clear all items in db",
    "method": "DELETE",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/items"
  },
  {
    "name": "patch incident flow 1 status to closed",
    "method": "PATCH",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows/{{incident_flow_1_id}}",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "IncidentFlow",
        "fields": {
          "status": "closed"
        }
      }
    }
  },
  {
    "name": "search it service by group name",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service?search=Messaging"
  },
  {
    "name": "add physical server",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "PhysicalServer",
        "fields": {
          "name": "physicalserver",
          "it_service": [
            "{{service_email_id}}",
            "{{service_pop3_id}}"
          ],
          "ip_address": [
            "192.168.0.108"
          ],
          "technical_support_info": "010-123456",
          "operating_system": "ubuntu",
          "storage_info": "hp-disk1",
          "model": "b10",
          "product_date": "2016-10-11",
          "warranty_expiration_date": "2016-11-11",
          "asset_location": {
            "status": "on_shelf",
            "shelf": "shelf",
            "label": "label",
            "other": "other"
          },
          "management_ip": [
            "192.168.0.108"
          ],
          "monitored": true
        }
      }
    }
  },
  {
    "name": "login",
    "method": "POST",
    "url": "http://{{auth_api_host}}:{{auth_api_port}}/auth/login",
    "body": {
      "username": "{{auth_user}}",
      "password": "{{auth_passwd}}"
    }
  },
  {
    "name": "add ITService Pop3",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "name": "pop3",
          "description": "pop3",
          "group": "{{group_messaging_id}}",
          "parent": "{{service_email_id}}"
        }
      }
    }
  },
  {
    "name": "query json schema of router ",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/schema/Router"
  },
  {
    "name": "delete ITService group",
    "method": "DELETE",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group/{{sg_test_id}}"
  },
  {
    "name": "query process flow by uuid",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows/{{incident_flow_1_id}}"
  },
  {
    "name": "patch ITService Dns",
    "method": "PATCH",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service/{{service_dns_id}}",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "description": "dns2",
          "group": "Infrastructure"
        }
      }
    }
  },
  {
    "name": "get license",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/license"
  },
  {
    "name": "query it service groups related cmdb servers",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems?cfgHostsByITServiceGroup=Messaging"
  },
  {
    "name": "add ITService Dns",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "name": "dns",
          "description": "dns",
          "group": "{{group_infrastructure_id}}",
          "dependendents": [
            "email"
          ]
        }
      }
    }
  },
  {
    "name": "query it service by uuids",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service?uuids={{service_email_id}},{{service_pop3_id}}"
  },
  {
    "name": "query it service related cmdb servers",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems?cfgHostsByITService=email"
  },
  {
    "name": "add switch",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Switch",
        "fields": {
          "name": "switch",
          "it_service": [
            "{{service_dns_id}}"
          ],
          "responsibility": "{{auth_user_id}}",
          "sn": "123456",
          "model": "a10",
          "product_date": "2016-10-11",
          "warranty_expiration_date": "2016-11-11",
          "asset_location": {
            "status": "mounted",
            "u": 42,
            "date_mounted": "2016-06-28",
            "cabinet": "{{cabinet_id}}"
          }
        }
      }
    }
  },
  {
    "name": "query ConfigurationItem mounted",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems?mounted_rels=true"
  },
  {
    "name": "search configurationItem",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/search/cfgItems?page=1&per_page=2",
    "body": {
      "body": {
        "query": {
          "match": {
            "category": "Router"
          }
        },
        "sort": [
          {
            "product_date": {
              "order": "desc"
            }
          }
        ]
      }
    }
  },
  {
    "name": "add router",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Router",
        "fields": {
          "name": "router",
          "status": {
            "status": "In_Use",
            "fields": {
              "a": 1
            }
          },
          "it_service": [
            "dns"
          ],
          "responsibility": "{{auth_user}}",
          "sn": "123456",
          "model": "a10",
          "product_date": "2016-08-11",
          "warranty_expiration_date": "2016-11-11",
          "asset_location": {
            "status": "mounted",
            "u": 42,
            "date_mounted": "2016-06-28",
            "cabinet": "cabinet",
            "test": "test"
          },
          "geo_location": {
            "name": "beijing",
            "location": {
              "lat": 39.98,
              "lon": 116.3
            }
          }
        }
      }
    }
  },
  {
    "name": "add incident flow 3 with it_service empty",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/processFlows",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "IncidentFlow",
        "fields": {
          "it_service": [],
          "status": "open",
          "description": "{{process_flow_desc}}",
          "note": "note",
          "attachment": "attachment",
          "title": "title"
        }
      }
    }
  },
  {
    "name": "query all it service",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service"
  },
  {
    "name": "add ServiceGroup Messaging",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITServiceGroup",
        "fields": {
          "name": "Messaging",
          "description": "Messaging"
        }
      }
    }
  },
  {
    "name": "query cabinet by uuid as name",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cabinets/cabinet"
  },
  {
    "name": "add shelf",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/shelves",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Shelf",
        "fields": {
          "name": "shelf",
          "description": "shelf",
          "warehouse_id": "warehouse"
        }
      }
    }
  },
  {
    "name": "add ITService Email With Name Conflict",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITService",
        "fields": {
          "name": "email",
          "description": "email",
          "group": "{{group_messaging_id}}"
        }
      }
    }
  },
  {
    "name": "add cabinet ",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cabinets",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "Cabinet",
        "fields": {
          "name": "cabinet",
          "description": "cabinet",
          "server_room_id": "{{server_room_id}}"
        }
      }
    }
  },
  {
    "name": "search it service by name",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/service?search=email,pop3"
  },
  {
    "name": "add ServiceGroup Infrastructure",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/it_services/group",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ITServiceGroup",
        "fields": {
          "name": "Infrastructure",
          "description": "Infrastructure"
        }
      }
    }
  },
  {
    "name": "query ConfigurationItems paginated",
    "method": "GET",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/cfgItems?page=1&per_page=2"
  },
  {
    "name": "add server_room",
    "method": "POST",
    "url": "http://{{cmdb_api_host}}:{{cmdb_api_port}}/api/serverRooms",
    "body": {
      "token": "{{token}}",
      "data": {
        "category": "ServerRoom",
        "fields": {
          "name": "server_room",
          "description": "server_room"
        }
      }
    }
  }
]
